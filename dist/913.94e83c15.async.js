"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[913],{22913:function(nt,Re,l){l.d(Re,{Z:function(){return Je}});var ye=l(17012),Ae=l(94184),L=l.n(Ae),ve=l(87462),D=l(1413),re=l(4942),ge=l(71002),F=l(97685),me=l(91),_=l(74902),Ze=l(67656),ee=l(87887),xe=l(21770),r=l(67294),Ee=l(9220),he=l(8410),pe=l(75164),we=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Te=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],oe={},C;function Ie(e){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(c&&oe[t])return oe[t];var a=window.getComputedStyle(e),i=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),f=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),x=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),o=Te.map(function(s){return"".concat(s,":").concat(a.getPropertyValue(s))}).join(";"),v={sizingStyle:o,paddingSize:f,borderSize:x,boxSizing:i};return c&&t&&(oe[t]=v),v}function Pe(e){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;C||(C=document.createElement("textarea"),C.setAttribute("tab-index","-1"),C.setAttribute("aria-hidden","true"),document.body.appendChild(C)),e.getAttribute("wrap")?C.setAttribute("wrap",e.getAttribute("wrap")):C.removeAttribute("wrap");var i=Ie(e,c),f=i.paddingSize,x=i.borderSize,o=i.boxSizing,v=i.sizingStyle;C.setAttribute("style","".concat(v,";").concat(we)),C.value=e.value||e.placeholder||"";var s=void 0,m=void 0,R,g=C.scrollHeight;if(o==="border-box"?g+=x:o==="content-box"&&(g-=f),t!==null||a!==null){C.value=" ";var y=C.scrollHeight-f;t!==null&&(s=y*t,o==="border-box"&&(s=s+f+x),g=Math.max(s,g)),a!==null&&(m=y*a,o==="border-box"&&(m=m+f+x),R=g>m?"":"hidden",g=Math.min(m,g))}var S={height:g,overflowY:R,resize:"none"};return s&&(S.minHeight=s),m&&(S.maxHeight=m),S}var $e=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],le=0,se=1,ie=2,Ne=r.forwardRef(function(e,c){var t=e,a=t.prefixCls,i=t.onPressEnter,f=t.defaultValue,x=t.value,o=t.autoSize,v=t.onResize,s=t.className,m=t.style,R=t.disabled,g=t.onChange,y=t.onInternalAutoSize,S=(0,me.Z)(t,$e),O=(0,xe.Z)(f,{value:x,postState:function(p){return p!=null?p:""}}),Z=(0,F.Z)(O,2),B=Z[0],j=Z[1],$=function(p){j(p.target.value),g==null||g(p)},h=r.useRef();r.useImperativeHandle(c,function(){return{textArea:h.current}});var u=r.useMemo(function(){return o&&(0,ge.Z)(o)==="object"?[o.minRows,o.maxRows]:[]},[o]),b=(0,F.Z)(u,2),M=b[0],E=b[1],N=!!o,w=function(){try{if(document.activeElement===h.current){var p=h.current,ce=p.selectionStart,ne=p.selectionEnd,H=p.scrollTop;h.current.setSelectionRange(ce,ne),h.current.scrollTop=H}}catch(ze){}},T=r.useState(ie),I=(0,F.Z)(T,2),z=I[0],K=I[1],te=r.useState(),ae=(0,F.Z)(te,2),W=ae[0],de=ae[1],Y=function(){K(le)};(0,he.Z)(function(){N&&Y()},[x,M,E,N]),(0,he.Z)(function(){if(z===le)K(se);else if(z===se){var P=Pe(h.current,!1,M,E);K(ie),de(P)}else w()},[z]);var J=r.useRef(),U=function(){pe.Z.cancel(J.current)},G=function(p){z===ie&&(v==null||v(p),o&&(U(),J.current=(0,pe.Z)(function(){Y()})))};r.useEffect(function(){return U},[]);var X=N?W:null,Q=(0,D.Z)((0,D.Z)({},m),X);return(z===le||z===se)&&(Q.overflowY="hidden",Q.overflowX="hidden"),r.createElement(Ee.Z,{onResize:G,disabled:!(o||v)},r.createElement("textarea",(0,ve.Z)({},S,{ref:h,style:Q,className:L()(a,s,(0,re.Z)({},"".concat(a,"-disabled"),R)),disabled:R,value:B,onChange:$})))}),Ve=Ne,Fe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function Se(e,c){return(0,_.Z)(e||"").slice(0,c).join("")}function be(e,c,t,a){var i=t;return e?i=Se(t,a):(0,_.Z)(c||"").length<t.length&&(0,_.Z)(t||"").length>a&&(i=c),i}var je=r.forwardRef(function(e,c){var t,a=e.defaultValue,i=e.value,f=e.onFocus,x=e.onBlur,o=e.onChange,v=e.allowClear,s=e.maxLength,m=e.onCompositionStart,R=e.onCompositionEnd,g=e.suffix,y=e.prefixCls,S=y===void 0?"rc-textarea":y,O=e.classes,Z=e.showCount,B=e.className,j=e.style,$=e.disabled,h=e.hidden,u=e.classNames,b=e.styles,M=e.onResize,E=(0,me.Z)(e,Fe),N=(0,xe.Z)(a,{value:i,defaultValue:a}),w=(0,F.Z)(N,2),T=w[0],I=w[1],z=(0,r.useRef)(null),K=r.useState(!1),te=(0,F.Z)(K,2),ae=te[0],W=te[1],de=r.useState(!1),Y=(0,F.Z)(de,2),J=Y[0],U=Y[1],G=r.useRef(),X=r.useRef(0),Q=r.useState(null),P=(0,F.Z)(Q,2),p=P[0],ce=P[1],ne=function(){var n;(n=z.current)===null||n===void 0||n.textArea.focus()};(0,r.useImperativeHandle)(c,function(){return{resizableTextArea:z.current,focus:ne,blur:function(){var n;(n=z.current)===null||n===void 0||n.textArea.blur()}}}),(0,r.useEffect)(function(){W(function(A){return!$&&A})},[$]);var H=Number(s)>0,ze=function(n){U(!0),G.current=T,X.current=n.currentTarget.selectionStart,m==null||m(n)},Ue=function(n){U(!1);var d=n.currentTarget.value;if(H){var V,at=X.current>=s+1||X.current===((V=G.current)===null||V===void 0?void 0:V.length);d=be(at,G.current,d,s)}d!==T&&(I(d),(0,ee.rJ)(n.currentTarget,n,o,d)),R==null||R(n)},Ge=function(n){var d=n.target.value;if(!J&&H){var V=n.target.selectionStart>=s+1||n.target.selectionStart===d.length||!n.target.selectionStart;d=be(V,T,d,s)}I(d),(0,ee.rJ)(n.currentTarget,n,o,d)},Xe=function(n){var d=E.onPressEnter,V=E.onKeyDown;n.key==="Enter"&&d&&d(n),V==null||V(n)},Qe=function(n){W(!0),f==null||f(n)},ke=function(n){W(!1),x==null||x(n)},qe=function(n){var d;I(""),ne(),(0,ee.rJ)((d=z.current)===null||d===void 0?void 0:d.textArea,n,o)},k=(0,ee.D7)(T);!J&&H&&i==null&&(k=Se(k,s));var fe=g,q;if(Z){var Ce=(0,_.Z)(k).length;(0,ge.Z)(Z)==="object"?q=Z.formatter({value:k,count:Ce,maxLength:s}):q="".concat(Ce).concat(H?" / ".concat(s):""),fe=r.createElement(r.Fragment,null,fe,r.createElement("span",{className:L()("".concat(S,"-data-count"),u==null?void 0:u.count),style:b==null?void 0:b.count},q))}var _e=function(n){var d;M==null||M(n),(d=z.current)!==null&&d!==void 0&&d.textArea.style.height&&ce(!0)},et=!E.autoSize&&!Z&&!v,tt=r.createElement(Ze.Q,{value:k,allowClear:v,handleReset:qe,suffix:fe,prefixCls:S,classes:{affixWrapper:L()(O==null?void 0:O.affixWrapper,(t={},(0,re.Z)(t,"".concat(S,"-show-count"),Z),(0,re.Z)(t,"".concat(S,"-textarea-allow-clear"),v),t))},disabled:$,focused:ae,className:B,style:(0,D.Z)((0,D.Z)({},j),p&&!et?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof q=="string"?q:void 0}},hidden:h,inputElement:r.createElement(Ve,(0,ve.Z)({},E,{onKeyDown:Xe,onChange:Ge,onFocus:Qe,onBlur:ke,onCompositionStart:ze,onCompositionEnd:Ue,className:u==null?void 0:u.textarea,style:(0,D.Z)((0,D.Z)({},b==null?void 0:b.textarea),{},{resize:j==null?void 0:j.resize}),disabled:$,prefixCls:S,onResize:_e,ref:z}))});return tt}),Me=je,Oe=Me,ue=l(9708),De=l(53124),He=l(98866),Le=l(98675),Be=l(65223),Ke=l(82586),We=l(47673),Ye=function(e,c){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&c.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)c.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]]);return t},Je=(0,r.forwardRef)((e,c)=>{const{prefixCls:t,bordered:a=!0,size:i,disabled:f,status:x,allowClear:o,showCount:v,classNames:s}=e,m=Ye(e,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames"]),{getPrefixCls:R,direction:g}=r.useContext(De.E_),y=(0,Le.Z)(i),S=r.useContext(He.Z),O=f!=null?f:S,{status:Z,hasFeedback:B,feedbackIcon:j}=r.useContext(Be.aM),$=(0,ue.F)(Z,x),h=r.useRef(null);r.useImperativeHandle(c,()=>{var N;return{resizableTextArea:(N=h.current)===null||N===void 0?void 0:N.resizableTextArea,focus:w=>{var T,I;(0,Ke.n)((I=(T=h.current)===null||T===void 0?void 0:T.resizableTextArea)===null||I===void 0?void 0:I.textArea,w)},blur:()=>{var w;return(w=h.current)===null||w===void 0?void 0:w.blur()}}});const u=R("input",t);let b;typeof o=="object"&&(o!=null&&o.clearIcon)?b=o:o&&(b={clearIcon:r.createElement(ye.Z,null)});const[M,E]=(0,We.ZP)(u);return M(r.createElement(Oe,Object.assign({},m,{disabled:O,allowClear:b,classes:{affixWrapper:L()(`${u}-textarea-affix-wrapper`,{[`${u}-affix-wrapper-rtl`]:g==="rtl",[`${u}-affix-wrapper-borderless`]:!a,[`${u}-affix-wrapper-sm`]:y==="small",[`${u}-affix-wrapper-lg`]:y==="large",[`${u}-textarea-show-count`]:v},(0,ue.Z)(`${u}-affix-wrapper`,$),E)},classNames:Object.assign(Object.assign({},s),{textarea:L()({[`${u}-borderless`]:!a,[`${u}-sm`]:y==="small",[`${u}-lg`]:y==="large"},(0,ue.Z)(u,$),E,s==null?void 0:s.textarea)}),prefixCls:u,suffix:B&&r.createElement("span",{className:`${u}-textarea-suffix`},j),showCount:v,ref:h})))})}}]);
